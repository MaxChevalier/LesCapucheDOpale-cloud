openapi: 3.0.0
paths:
  /auth/login:
    post:
      operationId: AuthController_login
      parameters: []
      requestBody:
        required: true
        description: Credentials
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: user@example.com
                password:
                  type: string
                  example: P@ssw0rd!
              required:
                - email
                - password
      responses:
        '200':
          description: JWT access token and username
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx.yyy
                  username:
                    type: string
                    example: John Doe
      tags:
        - Auth
  /auth/verify:
    get:
      operationId: AuthController_verifyToken
      parameters:
        - name: authorization
          required: true
          in: header
          schema:
            type: string
      responses:
        '200':
          description: Token is valid, returns roleId
          content:
            application/json:
              schema:
                type: object
                properties:
                  roleId:
                    type: number
                    example: 1
        '401':
          description: Token is invalid or missing
      security:
        - bearer: []
      tags:
        - Auth
  /users:
    post:
      operationId: UsersController_create
      parameters: []
      requestBody:
        required: true
        description: New user payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: John Doe
                email:
                  type: string
                  format: email
                  example: john.doe@example.com
                password:
                  type: string
                  example: Secret123!
                roleId:
                  type: number
                  example: 2
              required:
                - name
                - email
                - password
                - roleId
              additionalProperties: false
      responses:
        '201':
          description: User created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: John Doe
                  email:
                    type: string
                    example: john.doe@example.com
                  roleId:
                    type: number
                    example: 2
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Users
    get:
      operationId: UsersController_findAll
      parameters: []
      responses:
        '200':
          description: List of users
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: John Doe
                    email:
                      type: string
                      example: john.doe@example.com
                    roleId:
                      type: number
                      example: 2
                    createdAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:00:00.000Z'
                    updatedAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Users
  /users/{id}:
    get:
      operationId: UsersController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: User ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: User by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: John Doe
                  email:
                    type: string
                    example: john.doe@example.com
                  roleId:
                    type: number
                    example: 2
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Users
    patch:
      operationId: UsersController_update
      parameters:
        - name: id
          required: true
          in: path
          description: User ID
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Johnny Doe
                email:
                  type: string
                  format: email
                  example: johnny.doe@example.com
                password:
                  type: string
                  example: NewSecret123!
                roleId:
                  type: number
                  example: 1
              additionalProperties: false
      responses:
        '200':
          description: Updated user
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Johnny Doe
                  email:
                    type: string
                    example: johnny.doe@example.com
                  roleId:
                    type: number
                    example: 1
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:45:00.000Z'
      security:
        - bearer: []
      tags:
        - Users
    delete:
      operationId: UsersController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: User ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Users
  /quests:
    get:
      operationId: QuestsController_findAll
      parameters:
        - name: rewardMin
          required: false
          in: query
          description: Prime minimale (incluse)
          schema:
            example: 100
            type: number
        - name: rewardMax
          required: false
          in: query
          description: Prime maximale (incluse)
          schema:
            example: 1000
            type: number
        - name: statusId
          required: false
          in: query
          description: Filtrer par identifiant de statut
          schema:
            example: 2
            type: number
        - name: finalDateBefore
          required: false
          in: query
          description: Date finale avant (ISO 8601)
          schema:
            example: '2025-12-31'
            type: string
        - name: finalDateAfter
          required: false
          in: query
          description: Date finale après (ISO 8601)
          schema:
            example: '2025-01-01'
            type: string
        - name: userId
          required: false
          in: query
          description: Filtrer par identifiant d'utilisateur créateur
          schema:
            example: 1
            type: number
        - name: avgXpMin
          required: false
          in: query
          description: XP moyen minimum des aventuriers (inclus)
          schema:
            example: 10
            type: number
        - name: avgXpMax
          required: false
          in: query
          description: XP moyen maximum des aventuriers (inclus)
          schema:
            example: 100
            type: number
        - name: sortBy
          required: false
          in: query
          description: Champ de tri
          schema:
            example: reward
            type: string
            enum:
              - reward
              - finalDate
              - avgExperience
              - createdAt
        - name: order
          required: false
          in: query
          description: Ordre de tri
          schema:
            example: desc
            type: string
            enum:
              - asc
              - desc
      responses:
        '200':
          description: List of quests (avec filtres et tri)
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Rescue the Merchant
                    description:
                      type: string
                      example: Escort mission
                    finalDate:
                      type: string
                      format: date-time
                      example: '2025-12-31T23:59:59.000Z'
                    reward:
                      type: number
                      example: 500
                    estimatedDuration:
                      type: number
                      example: 5
                    statusId:
                      type: number
                      example: 1
                    createdAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:00:00.000Z'
                    updatedAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Quests
    post:
      operationId: QuestsController_create
      parameters: []
      requestBody:
        required: true
        description: New quest payload
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                name: Rescue the Merchant
                description: Escort the merchant safely to the city.
                finalDate: '2025-12-31T23:59:59.000Z'
                reward: 500
                estimatedDuration: 5
                adventurerIds:
                  - 1
                  - 2
                equipmentStockIds:
                  - 10
                  - 11
      responses:
        '201':
          description: Quest created
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  name: Rescue the Merchant
                  description: Escort the merchant safely to the city.
                  finalDate: '2025-12-31T23:59:59.000Z'
                  reward: 500
                  estimatedDuration: 5
                  statusId: 1
                  createdAt: '2025-10-30T12:00:00.000Z'
                  updatedAt: '2025-10-30T12:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}:
    get:
      operationId: QuestsController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Quest by id
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 1
                  title: Rescue the Merchant
                  description: Escort the merchant safely to the city.
                  statusId: 1
                  createdAt: '2025-10-30T12:00:00.000Z'
                  updatedAt: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Quests
    patch:
      operationId: QuestsController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                name: Rescue the Merchant (Hard)
                description: Hard mode variant.
                reward: 750
      responses:
        '200':
          description: Updated quest
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  name: Rescue the Merchant (Hard)
                  description: Hard mode variant.
                  reward: 750
                  statusId: 1
                  createdAt: '2025-10-30T12:00:00.000Z'
                  updatedAt: '2025-10-30T12:45:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/status:
    patch:
      operationId: QuestsController_updateStatus
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Update quest status
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                statusId: 3
      responses:
        '200':
          description: Quest status updated
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  statusId: 3
                  updatedAt: '2025-10-30T12:50:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/adventurers/attach:
    patch:
      operationId: QuestsController_attachAdventurers
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Attach adventurers to quest
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                ids:
                  - 1
                  - 2
                  - 3
      responses:
        '200':
          description: Adventurers attached
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  adventurerIds:
                    - 1
                    - 2
                    - 3
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/adventurers/detach:
    patch:
      operationId: QuestsController_detachAdventurers
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Detach adventurers from quest
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                ids:
                  - 2
      responses:
        '200':
          description: Adventurers detached
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  adventurerIds:
                    - 1
                    - 3
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/adventurers/set:
    patch:
      operationId: QuestsController_setAdventurers
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Replace all adventurers for quest
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                ids:
                  - 4
                  - 5
      responses:
        '200':
          description: Adventurers set
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  adventurerIds:
                    - 4
                    - 5
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/equipment-stocks/attach:
    patch:
      operationId: QuestsController_attachEquipment
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Attach equipment stocks to quest
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                ids:
                  - 3
                  - 8
      responses:
        '200':
          description: Equipment stocks attached
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  equipmentStockIds:
                    - 3
                    - 8
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/equipment-stocks/detach:
    patch:
      operationId: QuestsController_detachEquipment
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Detach equipment stocks from quest
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                ids:
                  - 3
      responses:
        '200':
          description: Equipment stocks detached
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  equipmentStockIds:
                    - 8
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/equipment-stocks/set:
    patch:
      operationId: QuestsController_setEquipment
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Replace all equipment stocks for quest
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                ids:
                  - 9
                  - 11
      responses:
        '200':
          description: Equipment stocks set
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  equipmentStockIds:
                    - 9
                    - 11
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/validate:
    patch:
      operationId: QuestsController_validate
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Valider la quête et définir l'XP recommandée
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
              example:
                xp: 150
      responses:
        '200':
          description: Quête validée
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  recommendedXP: 150
                  statusId: 2
                  updatedAt: '2025-10-30T13:15:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/invalidate:
    patch:
      operationId: QuestsController_invalidate
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      responses:
        '200':
          description: >-
            Quête dévalidée (retour en attente, XP remise à 0,
            aventuriers/équipements/consommables vidés)
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  recommendedXP: 0
                  statusId: 1
                  adventurerIds: []
                  equipmentStockIds: []
                  updatedAt: '2025-10-30T13:20:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/start:
    patch:
      operationId: QuestsController_start
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      responses:
        '200':
          description: Quête démarrée (désélection impossible après démarrage)
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  statusId: 3
                  updatedAt: '2025-10-30T13:25:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/finish:
    patch:
      operationId: QuestsController_finish
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                isSuccess:
                  type: boolean
                  example: true
                  description: >-
                    true = succès (XP + 80% récompense), false = échec (40%
                    salaires uniquement)
              example:
                isSuccess: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  name: Quête du Dragon
                  statusId: 7
                  startDate: '2026-01-01T10:00:00.000Z'
                  adventurers:
                    - id: 1
                      name: Aria
                      experience: 80
                      dailyRate: 50
                      availableUntil: '2026-01-15T10:00:00.000Z'
                  questStockEquipments:
                    - equipmentStock:
                        id: 10
                        durability: 8
                        statusId: 1
                  totalCost: 600
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/refuse:
    patch:
      operationId: QuestsController_refuse
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: false
        description: Aucun body requis
        content:
          application/json:
            schema:
              type: object
              properties: {}
      responses:
        '200':
          description: Quête refusée
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  statusId: 4
                  updatedAt: '2025-10-30T13:30:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/abandon:
    patch:
      operationId: QuestsController_abandon
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: false
        description: Aucun body requis
        content:
          application/json:
            schema:
              type: object
              properties: {}
      responses:
        '200':
          description: >-
            Quête abandonnée (peut être abandonnée uniquement si elle n'est pas
            validée ou commencée, typiquement en statut 'en attente')
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  statusId: 5
                  updatedAt: '2025-10-30T13:35:00.000Z'
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/consumables/attach:
    patch:
      operationId: QuestsController_attachConsumables
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: >-
          Liste des consommables à attacher avec leurs quantités. Si le
          consommable est déjà dans la quête, la quantité est ajoutée.
        content:
          application/json:
            schema:
              type: object
              properties:
                consumables:
                  type: array
                  items:
                    type: object
                    properties:
                      consumableId:
                        type: number
                        example: 1
                      quantity:
                        type: number
                        example: 5
              example:
                consumables:
                  - consumableId: 1
                    quantity: 5
                  - consumableId: 2
                    quantity: 3
      responses:
        '200':
          description: Consommables attachés à la quête
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  name: Quête du Dragon
                  questConsumables:
                    - consumableId: 1
                      quantity: 5
                    - consumableId: 2
                      quantity: 3
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/consumables/detach:
    patch:
      operationId: QuestsController_detachConsumables
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: >-
          Liste des consommables à détacher avec leurs quantités. Si la quantité
          résultante <= 0, le consommable est complètement retiré.
        content:
          application/json:
            schema:
              type: object
              properties:
                consumables:
                  type: array
                  items:
                    type: object
                    properties:
                      consumableId:
                        type: number
                        example: 1
                      quantity:
                        type: number
                        example: 2
              example:
                consumables:
                  - consumableId: 1
                    quantity: 2
                  - consumableId: 2
                    quantity: 3
      responses:
        '200':
          description: Consommables détachés de la quête
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  name: Quête du Dragon
                  questConsumables:
                    - consumableId: 1
                      quantity: 3
      security:
        - bearer: []
      tags:
        - Quests
  /quests/{id}/consumables/set:
    patch:
      operationId: QuestsController_setConsumables
      parameters:
        - name: id
          required: true
          in: path
          description: Quest ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Remplace tous les consommables de la quête par cette nouvelle liste
        content:
          application/json:
            schema:
              type: object
              properties:
                consumables:
                  type: array
                  items:
                    type: object
                    properties:
                      consumableId:
                        type: number
                        example: 3
                      quantity:
                        type: number
                        example: 10
              example:
                consumables:
                  - consumableId: 3
                    quantity: 10
      responses:
        '200':
          description: Consommables de la quête mis à jour
          content:
            application/json:
              schema:
                type: object
                additionalProperties: true
                example:
                  id: 42
                  name: Quête du Dragon
                  questConsumables:
                    - consumableId: 3
                      quantity: 10
      security:
        - bearer: []
      tags:
        - Quests
  /adventurers:
    get:
      operationId: AdventurersController_findAll
      parameters:
        - name: name
          required: false
          in: query
          description: Filtrer par nom (contains, insensible à la casse)
          schema:
            example: aria
            type: string
        - name: specialityId
          required: false
          in: query
          description: Filtrer par identifiant de spécialité
          schema:
            example: 3
            type: number
        - name: experienceMin
          required: false
          in: query
          description: Expérience minimale (incluse)
          schema:
            example: 10
            type: number
        - name: experienceMax
          required: false
          in: query
          description: Expérience maximale (incluse)
          schema:
            example: 50
            type: number
        - name: dailyRateOrder
          required: false
          in: query
          description: Tri par taux journalier
          schema:
            example: asc
            type: string
            enum:
              - asc
              - desc
      responses:
        '200':
          description: List of adventurers (avec filtres et tri)
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Aria Stormblade
                    specialityId:
                      type: number
                      example: 3
                    dailyRate:
                      type: number
                      example: 150
                    experience:
                      type: number
                      example: 120
                    availableUntil:
                      type: string
                      format: date-time
                      nullable: true
                      example: '2025-12-31T23:59:59.000Z'
      security:
        - bearer: []
      tags:
        - Adventurers
    post:
      operationId: AdventurersController_create
      parameters: []
      requestBody:
        required: true
        description: New adventurer payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Aria Stormblade
                specialityId:
                  type: number
                  example: 3
                dailyRate:
                  type: number
                  example: 100
                equipmentTypeIds:
                  type: array
                  items:
                    type: number
                  example:
                    - 1
                    - 2
                consumableTypeIds:
                  type: array
                  items:
                    type: number
                  example:
                    - 1
              required:
                - name
                - specialityId
                - dailyRate
      responses:
        '201':
          description: Adventurer created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 42
                  name:
                    type: string
                    example: Aria Stormblade
                  specialityId:
                    type: number
                    example: 3
                  dailyRate:
                    type: number
                    example: 100
                  experience:
                    type: number
                    example: 0
                  availableUntil:
                    type: string
                    format: date-time
                    nullable: true
                    example: null
      security:
        - bearer: []
      tags:
        - Adventurers
  /adventurers/{id}:
    get:
      operationId: AdventurersController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Adventurer ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Adventurer by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Aria Stormblade
                  specialityId:
                    type: number
                    example: 3
                  dailyRate:
                    type: number
                    example: 150
                  experience:
                    type: number
                    example: 120
                  availableUntil:
                    type: string
                    format: date-time
                    nullable: true
                    example: '2025-12-31T23:59:59.000Z'
      security:
        - bearer: []
      tags:
        - Adventurers
    patch:
      operationId: AdventurersController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Adventurer ID
          schema:
            example: 42
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Aria Nightwind
                dailyRate:
                  type: number
                  example: 180
                specialityId:
                  type: number
                  example: 2
                equipmentTypeIds:
                  type: array
                  items:
                    type: number
                  example:
                    - 1
                    - 3
                consumableTypeIds:
                  type: array
                  items:
                    type: number
                  example:
                    - 2
              additionalProperties: false
      responses:
        '200':
          description: Updated adventurer
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 42
                  name:
                    type: string
                    example: Aria Nightwind
                  specialityId:
                    type: number
                    example: 2
                  dailyRate:
                    type: number
                    example: 180
                  experience:
                    type: number
                    example: 120
                  availableUntil:
                    type: string
                    format: date-time
                    nullable: true
                    example: '2025-12-31T23:59:59.000Z'
      security:
        - bearer: []
      tags:
        - Adventurers
  /specialities:
    post:
      operationId: SpecialitiesController_create
      parameters: []
      requestBody:
        required: true
        description: New speciality payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Mage
              required:
                - name
              additionalProperties: false
      responses:
        '201':
          description: Speciality created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  name:
                    type: string
                    example: Mage
      security:
        - bearer: []
      tags:
        - Specialities
    get:
      operationId: SpecialitiesController_findAll
      parameters: []
      responses:
        '200':
          description: List of specialities
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Warrior
      security:
        - bearer: []
      tags:
        - Specialities
  /specialities/{id}:
    get:
      operationId: SpecialitiesController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Speciality ID
          schema:
            example: 5
            type: number
      responses:
        '200':
          description: Speciality by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  name:
                    type: string
                    example: Mage
      security:
        - bearer: []
      tags:
        - Specialities
    patch:
      operationId: SpecialitiesController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Speciality ID
          schema:
            example: 5
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Battlemage
              additionalProperties: false
      responses:
        '200':
          description: Updated speciality
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  name:
                    type: string
                    example: Battlemage
      security:
        - bearer: []
      tags:
        - Specialities
    delete:
      operationId: SpecialitiesController_remove
      parameters:
        - name: id
          required: true
          in: path
          description: Speciality ID
          schema:
            example: 5
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Specialities
  /equipment-types:
    post:
      operationId: EquipmentTypesController_create
      parameters: []
      requestBody:
        required: true
        description: New equipment type payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Weapon
              required:
                - name
              additionalProperties: false
      responses:
        '201':
          description: Equipment type created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 7
                  name:
                    type: string
                    example: Weapon
      security:
        - bearer: []
      tags:
        - Equipment Types
    get:
      operationId: EquipmentTypesController_findAll
      parameters: []
      responses:
        '200':
          description: List of equipment types
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Armor
      security:
        - bearer: []
      tags:
        - Equipment Types
  /equipment-types/{id}:
    get:
      operationId: EquipmentTypesController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment type ID
          schema:
            example: 7
            type: number
      responses:
        '200':
          description: Equipment type by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 7
                  name:
                    type: string
                    example: Weapon
      security:
        - bearer: []
      tags:
        - Equipment Types
    patch:
      operationId: EquipmentTypesController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment type ID
          schema:
            example: 7
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Ranged Weapon
              additionalProperties: false
      responses:
        '200':
          description: Updated equipment type
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 7
                  name:
                    type: string
                    example: Ranged Weapon
      security:
        - bearer: []
      tags:
        - Equipment Types
    delete:
      operationId: EquipmentTypesController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment type ID
          schema:
            example: 7
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 7
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Equipment Types
  /consumables:
    post:
      operationId: ConsumablesController_create
      parameters: []
      requestBody:
        required: true
        description: New consumable payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Potion de soin
                consumableTypeId:
                  type: number
                  example: 1
                quantity:
                  type: number
                  example: 10
                cost:
                  type: number
                  example: 25
              required:
                - name
                - consumableTypeId
                - quantity
                - cost
              additionalProperties: false
      responses:
        '201':
          description: Consumable created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Potion de soin
                  consumableTypeId:
                    type: number
                    example: 1
                  quantity:
                    type: number
                    example: 10
                  cost:
                    type: number
                    example: 25
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Consumables
    get:
      operationId: ConsumablesController_findAll
      parameters: []
      responses:
        '200':
          description: List of consumables
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Potion de soin
                    consumableTypeId:
                      type: number
                      example: 1
                    quantity:
                      type: number
                      example: 10
                    cost:
                      type: number
                      example: 25
                    createdAt:
                      type: string
                      format: date-time
                      example: '2025-12-12T10:00:00.000Z'
                    updatedAt:
                      type: string
                      format: date-time
                      example: '2025-12-12T10:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Consumables
  /consumables/{id}:
    get:
      operationId: ConsumablesController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Consumable by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Potion de soin
                  consumableTypeId:
                    type: number
                    example: 1
                  quantity:
                    type: number
                    example: 10
                  cost:
                    type: number
                    example: 25
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Consumables
    patch:
      operationId: ConsumablesController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable ID
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Grande potion de soin
                consumableTypeId:
                  type: number
                  example: 2
                quantity:
                  type: number
                  example: 15
                cost:
                  type: number
                  example: 50
              additionalProperties: false
      responses:
        '200':
          description: Updated consumable
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Grande potion de soin
                  consumableTypeId:
                    type: number
                    example: 2
                  quantity:
                    type: number
                    example: 15
                  cost:
                    type: number
                    example: 50
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:30:00.000Z'
      security:
        - bearer: []
      tags:
        - Consumables
    delete:
      operationId: ConsumablesController_remove
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Consumables
  /consumables/{id}/purchase:
    post:
      operationId: ConsumablesController_purchase
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable ID
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        description: Quantité à acheter
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: number
                  example: 3
                  description: Nombre de consommables à acheter
              required:
                - quantity
      responses:
        '200':
          description: Achat effectué avec succès
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Potion de soin
                  quantity:
                    type: number
                    example: 13
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-12-12T10:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Consumables
  /consumable-types:
    post:
      operationId: ConsumableTypesController_create
      parameters: []
      requestBody:
        required: true
        description: New consumable type payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Health Potion
              required:
                - name
              additionalProperties: false
      responses:
        '201':
          description: Consumable type created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  name:
                    type: string
                    example: Health Potion
      security:
        - bearer: []
      tags:
        - Consumable Types
    get:
      operationId: ConsumableTypesController_findAll
      parameters: []
      responses:
        '200':
          description: List of consumable types
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Health Potion
      security:
        - bearer: []
      tags:
        - Consumable Types
  /consumable-types/{id}:
    get:
      operationId: ConsumableTypesController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable type ID
          schema:
            example: 5
            type: number
      responses:
        '200':
          description: Consumable type by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  name:
                    type: string
                    example: Health Potion
      security:
        - bearer: []
      tags:
        - Consumable Types
    patch:
      operationId: ConsumableTypesController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable type ID
          schema:
            example: 5
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Greater Health Potion
              additionalProperties: false
      responses:
        '200':
          description: Updated consumable type
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  name:
                    type: string
                    example: Greater Health Potion
      security:
        - bearer: []
      tags:
        - Consumable Types
    delete:
      operationId: ConsumableTypesController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: Consumable type ID
          schema:
            example: 5
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 5
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Consumable Types
  /equipment:
    get:
      operationId: EquipmentController_findAll
      parameters: []
      responses:
        '200':
          description: List of equipment
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 10
                    name:
                      type: string
                      example: Longsword
                    equipmentTypeId:
                      type: number
                      example: 7
                    cost:
                      type: number
                      example: 100
                    maxDurability:
                      type: number
                      example: 50
                    currentDurability:
                      type: number
                      example: 50
      security:
        - bearer: []
      tags:
        - Equipment
    post:
      operationId: EquipmentController_create
      parameters: []
      requestBody:
        required: true
        description: New equipment payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Longsword
                equipmentTypeId:
                  type: number
                  example: 7
                cost:
                  type: number
                  example: 100
                maxDurability:
                  type: number
                  example: 50
              required:
                - name
                - equipmentTypeId
                - cost
                - maxDurability
              additionalProperties: false
      responses:
        '201':
          description: Equipment created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 10
                  name:
                    type: string
                    example: Longsword
                  equipmentTypeId:
                    type: number
                    example: 7
                  cost:
                    type: number
                    example: 100
                  maxDurability:
                    type: number
                    example: 50
                  currentDurability:
                    type: number
                    example: 50
      security:
        - bearer: []
      tags:
        - Equipment
  /equipment/{id}:
    get:
      operationId: EquipmentController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment ID
          schema:
            example: 10
            type: number
      responses:
        '200':
          description: Equipment by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 10
                  name:
                    type: string
                    example: Longsword
                  equipmentTypeId:
                    type: number
                    example: 7
                  cost:
                    type: number
                    example: 100
                  maxDurability:
                    type: number
                    example: 50
                  currentDurability:
                    type: number
                    example: 50
      security:
        - bearer: []
      tags:
        - Equipment
    patch:
      operationId: EquipmentController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment ID
          schema:
            example: 10
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Enchanted Longsword
                equipmentTypeId:
                  type: number
                  example: 8
                cost:
                  type: number
                  example: 150
                maxDurability:
                  type: number
                  example: 60
              additionalProperties: false
      responses:
        '200':
          description: Updated equipment
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 10
                  name:
                    type: string
                    example: Enchanted Longsword
                  equipmentTypeId:
                    type: number
                    example: 8
                  cost:
                    type: number
                    example: 150
                  maxDurability:
                    type: number
                    example: 60
                  currentDurability:
                    type: number
                    example: 45
      security:
        - bearer: []
      tags:
        - Equipment
    delete:
      operationId: EquipmentController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment ID
          schema:
            example: 10
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 10
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Equipment
  /equipment-stocks:
    get:
      operationId: EquipmentStocksController_findAll
      parameters: []
      responses:
        '200':
          description: List of equipment stocks
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    equipmentId:
                      type: number
                      example: 12
                    quantity:
                      type: number
                      example: 25
                    available:
                      type: number
                      example: 20
                    createdAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:00:00.000Z'
                    updatedAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Equipment Stocks
    post:
      operationId: EquipmentStocksController_create
      parameters: []
      requestBody:
        required: true
        description: New equipment stock payload
        content:
          application/json:
            schema:
              type: object
              properties:
                equipmentId:
                  type: number
                  example: 12
                quantity:
                  type: number
                  example: 5
                  description: 'Number of items to create (default: 1)'
              required:
                - equipmentId
              additionalProperties: false
      responses:
        '201':
          description: Equipment stock(s) created
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    description: Single equipment stock (when quantity is 1 or omitted)
                    properties:
                      id:
                        type: number
                        example: 3
                      equipmentId:
                        type: number
                        example: 12
                      durability:
                        type: number
                        example: 100
                      createdAt:
                        type: string
                        format: date-time
                        example: '2025-10-30T12:00:00.000Z'
                      updatedAt:
                        type: string
                        format: date-time
                        example: '2025-10-30T12:00:00.000Z'
                  - type: array
                    description: Array of equipment stocks (when quantity > 1)
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          example: 3
                        equipmentId:
                          type: number
                          example: 12
                        durability:
                          type: number
                          example: 100
                        createdAt:
                          type: string
                          format: date-time
                          example: '2025-10-30T12:00:00.000Z'
                        updatedAt:
                          type: string
                          format: date-time
                          example: '2025-10-30T12:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Equipment Stocks
  /equipment-stocks/{id}:
    get:
      operationId: EquipmentStocksController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment stock ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Equipment stock by id
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  equipmentId:
                    type: number
                    example: 12
                  quantity:
                    type: number
                    example: 25
                  available:
                    type: number
                    example: 20
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Equipment Stocks
    patch:
      operationId: EquipmentStocksController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment stock ID
          schema:
            example: 3
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                equipmentId:
                  type: number
                  example: 15
                quantity:
                  type: number
                  example: 30
              additionalProperties: false
      responses:
        '200':
          description: Updated equipment stock
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 3
                  equipmentId:
                    type: number
                    example: 15
                  quantity:
                    type: number
                    example: 30
                  available:
                    type: number
                    example: 28
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:45:00.000Z'
      security:
        - bearer: []
      tags:
        - Equipment Stocks
    delete:
      operationId: EquipmentStocksController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment stock ID
          schema:
            example: 3
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 3
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Equipment Stocks
  /equipment-stocks/{id}/repair:
    patch:
      operationId: EquipmentStocksController_repair
      parameters:
        - name: id
          required: true
          in: path
          description: Equipment stock ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Equipment stock repaired (durability reset to max)
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  equipmentId:
                    type: number
                    example: 12
                  durability:
                    type: number
                    example: 100
                  quantity:
                    type: number
                    example: 1
                  statusId:
                    type: number
                    example: 1
                  status:
                    type: object
                    properties:
                      id:
                        type: number
                        example: 1
                      name:
                        type: string
                        example: AVAILABLE
                  equipment:
                    type: object
                    properties:
                      id:
                        type: number
                        example: 12
                      name:
                        type: string
                        example: Épée longue
                      maxDurability:
                        type: number
                        example: 100
      security:
        - bearer: []
      tags:
        - Equipment Stocks
  /quest-stock-equipment:
    get:
      operationId: QuestStockEquipmentController_list
      parameters:
        - name: questId
          required: false
          in: query
          description: Filter by quest ID
          schema:
            type: number
            example: 12
      responses:
        '200':
          description: List of quest-stock-equipment
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 101
                    questId:
                      type: number
                      example: 12
                    equipmentStockId:
                      type: number
                      example: 3
                    createdAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:00:00.000Z'
                    updatedAt:
                      type: string
                      format: date-time
                      example: '2025-10-30T12:34:56.000Z'
      security:
        - bearer: []
      tags:
        - Quest Stock Equipment
    post:
      operationId: QuestStockEquipmentController_attach
      parameters: []
      requestBody:
        required: true
        description: Attach equipment stock to a quest
        content:
          application/json:
            schema:
              type: object
              properties:
                questId:
                  type: number
                  example: 12
                equipmentStockId:
                  type: number
                  example: 3
              required:
                - questId
                - equipmentStockId
              additionalProperties: false
      responses:
        '201':
          description: Attachment created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 101
                  questId:
                    type: number
                    example: 12
                  equipmentStockId:
                    type: number
                    example: 3
                  createdAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
                  updatedAt:
                    type: string
                    format: date-time
                    example: '2025-10-30T12:00:00.000Z'
      security:
        - bearer: []
      tags:
        - Quest Stock Equipment
  /quest-stock-equipment/{id}:
    delete:
      operationId: QuestStockEquipmentController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: Attachment ID
          schema:
            example: 101
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 101
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Quest Stock Equipment
  /statuses:
    get:
      operationId: StatusesController_list
      parameters: []
      responses:
        '200':
          description: List of statuses
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Pending
      security:
        - bearer: []
      tags:
        - Statuses
    post:
      operationId: StatusesController_create
      parameters: []
      requestBody:
        required: true
        description: New status payload
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: In Progress
              required:
                - name
              additionalProperties: false
      responses:
        '201':
          description: Status created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 3
                  name:
                    type: string
                    example: In Progress
      security:
        - bearer: []
      tags:
        - Statuses
  /statuses/{id}:
    patch:
      operationId: StatusesController_update
      parameters:
        - name: id
          required: true
          in: path
          description: Status ID
          schema:
            example: 3
            type: number
      requestBody:
        required: true
        description: Fields to update (partial)
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: Completed
              additionalProperties: false
      responses:
        '200':
          description: Updated status
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 3
                  name:
                    type: string
                    example: Completed
      security:
        - bearer: []
      tags:
        - Statuses
    delete:
      operationId: StatusesController_delete
      parameters:
        - name: id
          required: true
          in: path
          description: Status ID
          schema:
            example: 3
            type: number
      responses:
        '200':
          description: Delete result
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 3
                  deleted:
                    type: boolean
                    example: true
      security:
        - bearer: []
      tags:
        - Statuses
  /roles:
    get:
      operationId: RolesController_findAll
      parameters: []
      responses:
        '200':
          description: List of all roles
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Admin
      security:
        - bearer: []
      tags:
        - Roles
  /roles/{id}:
    get:
      operationId: RolesController_findOne
      parameters:
        - name: id
          required: true
          in: path
          description: Role ID
          schema:
            type: number
      responses:
        '200':
          description: Role found
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  name:
                    type: string
                    example: Admin
      security:
        - bearer: []
      tags:
        - Roles
  /finances/balance:
    get:
      operationId: FinancesController_getBalance
      parameters: []
      responses:
        '200':
          description: Solde actuel de la guilde
          content:
            application/json:
              schema:
                type: object
                properties:
                  balance:
                    type: number
                    example: 15000
      security:
        - bearer: []
      tags:
        - Finances
  /finances/history:
    get:
      operationId: FinancesController_getHistory
      parameters:
        - name: skip
          required: false
          in: query
          schema:
            example: 0
            type: number
        - name: take
          required: false
          in: query
          schema:
            example: 50
            type: number
      responses:
        '200':
          description: Historique des transactions
          content:
            application/json:
              schema:
                type: object
                properties:
                  transactions:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          example: 1
                        amount:
                          type: number
                          example: 1000
                        description:
                          type: string
                          example: 'Avance 20% quête #5'
                        date:
                          type: string
                          format: date-time
                          example: '2026-01-12T10:00:00.000Z'
                        total:
                          type: number
                          example: 15000
                  totalCount:
                    type: number
                    example: 100
                  skip:
                    type: number
                    example: 0
                  take:
                    type: number
                    example: 50
      security:
        - bearer: []
      tags:
        - Finances
  /finances/statistics:
    get:
      operationId: FinancesController_getStatistics
      parameters: []
      responses:
        '200':
          description: Statistiques financières
          content:
            application/json:
              schema:
                type: object
                properties:
                  totalIncome:
                    type: number
                    example: 50000
                  totalExpenses:
                    type: number
                    example: 35000
                  balance:
                    type: number
                    example: 15000
                  transactionCount:
                    type: number
                    example: 100
      security:
        - bearer: []
      tags:
        - Finances
  /finances/transaction:
    post:
      operationId: FinancesController_addTransaction
      parameters: []
      requestBody:
        required: true
        description: Nouvelle transaction (amount positif = recette, négatif = dépense)
        content:
          application/json:
            schema:
              type: object
              properties:
                amount:
                  type: number
                  example: 1000
                description:
                  type: string
                  example: Vente équipement
              required:
                - amount
                - description
      responses:
        '201':
          description: Transaction créée
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 42
                  amount:
                    type: number
                    example: 1000
                  description:
                    type: string
                    example: Vente équipement
                  date:
                    type: string
                    format: date-time
                    example: '2026-01-12T10:00:00.000Z'
                  total:
                    type: number
                    example: 16000
      security:
        - bearer: []
      tags:
        - Finances
  /adventurer-availability/{adventurerId}/check:
    get:
      operationId: AdventurerAvailabilityController_checkAvailability
      parameters:
        - name: adventurerId
          required: true
          in: path
          description: Adventurer ID
          schema:
            example: 1
            type: number
        - name: startDate
          required: true
          in: query
          description: Start date of the period
          schema:
            example: '2026-02-01'
            type: string
        - name: endDate
          required: true
          in: query
          description: End date of the period
          schema:
            example: '2026-02-28'
            type: string
      responses:
        '200':
          description: Adventurer availability status
          content:
            application/json:
              schema:
                type: object
                properties:
                  adventurerId:
                    type: number
                    example: 1
                  adventurerName:
                    type: string
                    example: Aria Stormblade
                  isAvailable:
                    type: boolean
                    example: false
                  events:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: number
                          example: 1
                        startDate:
                          type: string
                          example: '2026-02-05T00:00:00.000Z'
                        endDate:
                          type: string
                          example: '2026-02-10T00:00:00.000Z'
                        type:
                          type: string
                          example: mission
                        reason:
                          type: string
                          example: 'Quest: Dragon Hunt'
      security:
        - bearer: []
      tags:
        - Adventurer Availability
  /adventurer-availability/{adventurerId}/schedule:
    get:
      operationId: AdventurerAvailabilityController_getSchedule
      parameters:
        - name: adventurerId
          required: true
          in: path
          description: Adventurer ID
          schema:
            example: 1
            type: number
        - name: startDate
          required: true
          in: query
          description: Start date of the period
          schema:
            example: '2026-02-01'
            type: string
        - name: endDate
          required: true
          in: query
          description: End date of the period
          schema:
            example: '2026-02-28'
            type: string
      responses:
        '200':
          description: Adventurer schedule with daily status
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    date:
                      type: string
                      example: '2026-02-05'
                    status:
                      type: string
                      enum:
                        - available
                        - mission
                        - rest
                        - unavailable
                        - mission_rest
                    events:
                      type: array
                      items:
                        type: object
      security:
        - bearer: []
      tags:
        - Adventurer Availability
  /adventurer-availability/available:
    get:
      operationId: AdventurerAvailabilityController_findAvailableAdventurers
      parameters:
        - name: startDate
          required: true
          in: query
          description: Start date of the period
          schema:
            example: '2026-02-01'
            type: string
        - name: endDate
          required: true
          in: query
          description: End date of the period
          schema:
            example: '2026-02-28'
            type: string
      responses:
        '200':
          description: List of available adventurers for the period
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    name:
                      type: string
                      example: Aria Stormblade
                    specialityId:
                      type: number
                      example: 3
                    dailyRate:
                      type: number
                      example: 150
      security:
        - bearer: []
      tags:
        - Adventurer Availability
  /adventurer-availability/{adventurerId}/rests:
    get:
      operationId: AdventurerAvailabilityController_findAllRests
      parameters:
        - name: adventurerId
          required: true
          in: path
          description: Adventurer ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: List of rest periods for the adventurer
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: number
                      example: 1
                    adventurerId:
                      type: number
                      example: 1
                    startDate:
                      type: string
                      example: '2026-02-05T00:00:00.000Z'
                    endDate:
                      type: string
                      example: '2026-02-10T00:00:00.000Z'
                    reason:
                      type: string
                      example: Repos après mission
                    type:
                      type: string
                      example: rest
      security:
        - bearer: []
      tags:
        - Adventurer Availability
  /adventurer-availability/rests:
    post:
      operationId: AdventurerAvailabilityController_createRest
      parameters: []
      requestBody:
        required: true
        description: Create a new rest period
        content:
          application/json:
            schema:
              type: object
              properties:
                adventurerId:
                  type: number
                  example: 1
                startDate:
                  type: string
                  example: '2026-02-05T00:00:00.000Z'
                endDate:
                  type: string
                  example: '2026-02-10T00:00:00.000Z'
                reason:
                  type: string
                  example: Repos après mission
                type:
                  type: string
                  enum:
                    - rest
                    - unavailable
                    - mission_rest
                  example: rest
              required:
                - adventurerId
                - startDate
                - endDate
                - reason
                - type
      responses:
        '201':
          description: Rest period created
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: number
                    example: 1
                  adventurerId:
                    type: number
                    example: 1
                  startDate:
                    type: string
                    example: '2026-02-05T00:00:00.000Z'
                  endDate:
                    type: string
                    example: '2026-02-10T00:00:00.000Z'
                  reason:
                    type: string
                    example: Repos après mission
                  type:
                    type: string
                    example: rest
      security:
        - bearer: []
      tags:
        - Adventurer Availability
  /adventurer-availability/rests/{id}:
    patch:
      operationId: AdventurerAvailabilityController_updateRest
      parameters:
        - name: id
          required: true
          in: path
          description: Rest period ID
          schema:
            example: 1
            type: number
      requestBody:
        required: true
        description: Update a rest period
        content:
          application/json:
            schema:
              type: object
              properties:
                startDate:
                  type: string
                  example: '2026-02-06T00:00:00.000Z'
                endDate:
                  type: string
                  example: '2026-02-12T00:00:00.000Z'
                reason:
                  type: string
                  example: Repos prolongé
                type:
                  type: string
                  enum:
                    - rest
                    - unavailable
                    - mission_rest
      responses:
        '200':
          description: Updated rest period
      security:
        - bearer: []
      tags:
        - Adventurer Availability
    delete:
      operationId: AdventurerAvailabilityController_deleteRest
      parameters:
        - name: id
          required: true
          in: path
          description: Rest period ID
          schema:
            example: 1
            type: number
      responses:
        '200':
          description: Rest period deleted
      security:
        - bearer: []
      tags:
        - Adventurer Availability
  /:
    get:
      operationId: AppController_getHello
      parameters: []
      responses:
        '200':
          description: ''
      tags:
        - App
info:
  title: API "Les kips AH"
  description: |-
    This is the API information regarding the project "Les capuches d'Opale".

    C'est un outil de gestion d'aventurier pour une guilde.
  version: 1.0.0
  contact: {}
  termsOfService: https://swagger.io/terms/
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
tags: []
servers: []
components:
  securitySchemes:
    bearer:
      scheme: bearer
      bearerFormat: JWT
      type: http
